<nav class="main-menu">
    <a href="./" class="main-menu__home">
        <img src="images/logos/brainly-mobile.svg" />
    </a>
    <ul>
    {% for page in site.data.navigation %}
        {% assign pageUrl = page.name | slugify | append:'.html' %}
        <li>
            <a href="{{ pageUrl }}">{{ page.name }}</a></h2>
            <ul>
            {% for element in page.elements %}
                <li><a href="{{ pageUrl }}#{{ element.name | slugify }}">{{ element.name }}</a></li>
            {% endfor %}
            </ul>
        </li>
    {% endfor %}
    </ul>
    <aside>
        <label title="Highlight holes"><input type="checkbox" id="highlight-holes" /> Holes</label>
        <label title="Show vertical rhythm helper lines"><input type="checkbox" id="show-vr-lines" /> VR</label>
        <a href="https://github.com/brainly/style-guide" class="version">v{{ site.data.package.version }}</a>
    </aside>
</nav>

<script>
    var showHolesCheckbox = document.getElementById('highlight-holes');
    var showVRLinesCheckbox = document.getElementById('show-vr-lines');

    function toggleHoles() {
        document.body.classList.toggle('show-holes');
        localStorage.showHoles = showHolesCheckbox.checked;
    }

    function toggleVRLines() {
        document.body.classList.toggle('show-vr-lines');
        localStorage.showVRLines = showVRLinesCheckbox.checked;
    }

    showHolesCheckbox.addEventListener('change', toggleHoles);
    showVRLinesCheckbox.addEventListener('change', toggleVRLines);

    if(localStorage.showHoles === 'true') {
        showHolesCheckbox.checked = true;
        toggleHoles();
    }
    if(localStorage.showVRLines === 'true') {
        showVRLinesCheckbox.checked = true;
        toggleVRLines();
    }
</script>
